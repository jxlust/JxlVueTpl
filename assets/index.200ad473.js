import{a3 as e,m as t,a4 as n,$ as a,u as o,a5 as r,a6 as s,I as l,a7 as i,a8 as u,q as c,a9 as v,aa as f,ab as d,ac as m,a as p,o as g,c as h,e as y,t as w,b,F as S,ad as O,k as L,K as N,f as E}from"./main.f4ebe731.js";const T=e?window:void 0;function D(...e){let t,n,a,r;if(u(e[0])?([n,a,r]=e,t=T):[t,n,a,r]=e,!t)return s;let l=s;const i=c((()=>function(e){var t;const n=o(e);return null!=(t=null==n?void 0:n.$el)?t:n}(t)),(e=>{l(),e&&(e.addEventListener(n,a,r),l=()=>{e.removeEventListener(n,a,r),l=s})}),{immediate:!0,flush:"post"}),f=()=>{i(),l()};return v(f),f}const _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x="__vueuse_ssr_handlers__";_[x]=_[x]||{};const Y=_[x];const A={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function F(e,n,s,l={}){var i;const{flush:u="pre",deep:c=!0,listenToStorageChanges:v=!0,writeDefaults:f=!0,shallow:d,window:m=T,eventFilter:p,onError:g=(e=>{})}=l,h=(d?a:t)(n);if(!s)try{s=function(e,t){return Y[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=T)?void 0:e.localStorage}))()}catch(N){g(N)}if(!s)return h;const y=o(n),w=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}(y),b=null!=(i=l.serializer)?i:A[w],{pause:S,resume:O}=r(h,(()=>function(t){try{null==t?s.removeItem(e):s.setItem(e,b.write(t))}catch(N){g(N)}}(h.value)),{flush:u,deep:c,eventFilter:p});return m&&v&&D(m,"storage",L),L(),h;function L(t){t&&t.key!==e||(h.value=function(t){if(!t||t.key===e){S();try{const n=t?t.newValue:s.getItem(e);return null==n?(f&&null!==y&&s.setItem(e,b.write(y)),y):"string"!=typeof n?n:b.read(n)}catch(N){g(N)}finally{O()}}}(t))}}function M(e){return function(e,a={}){const{window:o=T}=a,r=Boolean(o&&"matchMedia"in o);let s;const l=t(!1),i=()=>{r&&(s||(s=o.matchMedia(e)),l.value=s.matches)};return n((()=>{i(),s&&("addEventListener"in s?s.addEventListener("change",i):s.addListener(i),v((()=>{"removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i)})))})),l}("(prefers-color-scheme: dark)",e)}const j=new Map;function H(e){const t=d();function n(n){var o;const r=j.get(e)||[];r.push(n),j.set(e,r);const s=()=>a(n);return null==(o=null==t?void 0:t.cleanups)||o.push(s),s}function a(t){const n=j.get(e);if(!n)return;const a=n.indexOf(t);a>-1&&n.splice(a,1),n.length||j.delete(e)}return{on:n,once:function(e){return n((function t(...n){a(t),e(...n)}))},off:a,emit:function(t,n){var a;null==(a=j.get(e))||a.forEach((e=>e(t,n)))},reset:function(){j.delete(e)}}}var I,k,J=Object.defineProperty,C=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function W(e={}){const{controls:n=!1,interval:a="requestAnimationFrame"}=e,o=t(new Date),r=()=>o.value=new Date,s="requestAnimationFrame"===a?function(e,n={}){const{immediate:a=!0,window:o=T}=n,r=t(!1);let s=null;function l(){r.value&&o&&(e(),s=o.requestAnimationFrame(l))}function i(){!r.value&&o&&(r.value=!0,l())}function u(){r.value=!1,null!=s&&o&&(o.cancelAnimationFrame(s),s=null)}return a&&i(),v(u),{isActive:r,pause:u,resume:i}}(r,{immediate:!0}):i(r,a,{immediate:!0});return n?((e,t)=>{for(var n in t||(t={}))P.call(t,n)&&K(e,n,t[n]);if(C)for(var n of C(t))q.call(t,n)&&K(e,n,t[n]);return e})({now:o},s):o}(k=I||(I={})).UP="UP",k.RIGHT="RIGHT",k.DOWN="DOWN",k.LEFT="LEFT",k.NONE="NONE";const X=function(e,t,n={}){const{window:a=T}=n;return F(e,t,null==a?void 0:a.localStorage,n)}("my-storage",{});var R=(e=>(e.TestKey="jxlust-test-event",e))(R||{});const G=p({__name:"Child1",setup(e){const n=t(""),{on:a,emit:o}=H(R.TestKey);a((e=>{n.value=e}));const r=()=>{o("hhhhhhhh")};return(e,t)=>(g(),h(S,null,[y(w(n.value)+" ",1),b("button",{onClick:r},"给兄弟发送爱心")],64))}}),U=p({__name:"Child2",setup(e){const n=t(""),{on:a}=H(R.TestKey);return a((e=>{n.value=e})),(e,t)=>" 接收到："+w(n.value)}});const V={class:"test"},$={class:"test"},z=["innerHTML"],B={class:"scroll-data"},Q={class:"mouse-text"},Z={class:"dark"},ee={class:"event-bus"},te=p({__name:"index",setup(e){const n=O(W(),"YYYY-MM-DD HH:mm:ss"),a=t(Date.now()),r=O(a,"YYYY-MM-DD HH:mm:ss"),i=new Array(10).fill("<p>洛杉矶撒了房间啊龙卷风</p>").join(""),u=t(),{x:c,y:v}=function(e,n={}){const{throttle:a=0,idle:o=200,onStop:r=s,onScroll:i=s,offset:u={left:0,right:0,top:0,bottom:0},eventListenerOptions:c={capture:!1,passive:!0}}=n,v=t(0),d=t(0),p=t(!1),g=l({left:!0,right:!1,top:!0,bottom:!1}),h=l({left:!1,right:!1,top:!1,bottom:!1});if(e){const t=m((e=>{p.value=!1,h.left=!1,h.right=!1,h.top=!1,h.bottom=!1,r(e)}),a+o),n=e=>{const n=e.target===document?e.target.documentElement:e.target,a=n.scrollLeft;h.left=a<v.value,h.right=a>v.value,g.left=a<=0+(u.left||0),g.right=a+n.clientWidth>=n.scrollWidth-(u.right||0),v.value=a;const o=n.scrollTop;h.top=o<d.value,h.bottom=o>d.value,g.top=o<=0+(u.top||0),g.bottom=o+n.clientHeight>=n.scrollHeight-(u.bottom||0),d.value=o,p.value=!0,t(e),i(e)};D(e,"scroll",a?f(n,a):n,c)}return{x:v,y:d,isScrolling:p,arrivedState:g,directions:h}}(u,{throttle:200}),d=L((()=>0|o(v)));N((()=>{}));const{x:p,y:y}=function(e={}){const{type:n="page",touch:a=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:s=T,eventFilter:l}=e,i=t(r.x),u=t(r.y),c=t(null),v=e=>{"page"===n?(i.value=e.pageX,u.value=e.pageY):"client"===n&&(i.value=e.clientX,u.value=e.clientY),c.value="mouse"},f=()=>{i.value=r.x,u.value=r.y},d=e=>{if(e.touches.length>0){const t=e.touches[0];"page"===n?(i.value=t.pageX,u.value=t.pageY):"client"===n&&(i.value=t.clientX,u.value=t.clientY),c.value="touch"}},m=e=>void 0===l?v(e):l((()=>v(e)),{}),p=e=>void 0===l?d(e):l((()=>d(e)),{});return s&&(D(s,"mousemove",m,{passive:!0}),D(s,"dragover",m,{passive:!0}),a&&(D(s,"touchstart",p,{passive:!0}),D(s,"touchmove",p,{passive:!0}),o&&D(s,"touchend",f,{passive:!0}))),{x:i,y:u,sourceType:c}}(),S=M(),{store:_,setLocal:x}=(X.value={name:"Apple",color:"red"},{store:X,setLocal:e=>{X.value=e}}),Y=()=>{x({age:1e4})};return(e,t)=>(g(),h("div",null,[b("div",V," time: "+w(o(n)),1),b("div",$,"time2: "+w(o(r)),1),b("div",{class:"scroll-test",innerHTML:o(i),ref_key:"scrollRef",ref:u},null,8,z),b("div",B,w(o(c))+" ----- "+w(o(d)),1),b("div",Q,w(o(p))+" --- "+w(o(y)),1),b("div",Z,w(o(S)),1),b("div",{class:"storage-show",onClick:Y},w(o(_)),1),b("div",ee,[E(G),E(U)])]))}});export{te as default};
