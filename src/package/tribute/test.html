<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
  <style>
    .test {
      width: 500px;
      height: 100px;
      outline: none;
      border: 1px solid #ccc;
      cursor: text;
    }
  </style>

</head>

<body>

  <div id="dom" class="test">

  </div>
</body>
<script type="module">
  import Tribute from './index.js';
  const values = [{
    value: 'x',
    name: 'x'
  }, {
    value: 'x1',
    name: 'x1'
  }, {
    value: 'x2',
    name: 'x2'
  }]
  const tribute = new Tribute({
    trigger: '{',
    // menuContainer: dom
    selectClass: 'highlight',
    containerClass: 'trigger-container',
    itemClass: 'trigger-container__item',
    requireLeadingSpace: false,
    lookup: 'name',
    fillAttr: 'name',
    values: values,
    selectTemplate: function (item) {
      console.log('selectTemplate:', item);
      return `<span class="trigger-value" data-code="${item.original.code}" data-value="${item.original.value}" contenteditable="false">{${item.original.name}}</span>`;
    },
    // menuItemTemplate: function (item) {
    //   return `<span class="trigger-menu-item">${item.original.name}</span>`;
    // },
    noMatchTemplate: function () {
      return '<span style:"visibility: hidden;"></span>';
    },
    // searchOpts: {
    //   pre: '<span class="xxx">',
    //   post: "</span>",
    //   skip: false, // true will skip local search, useful if doing server-side search
    // },
  });
  const dom = document.getElementById('dom');
  tribute.attach(dom);

</script>

</html>